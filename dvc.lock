schema: '2.0'
stages:
  load_data:
    cmd: python -m src.stage_01_load_and_save --config=params.yaml
    deps:
    - path: src\stage_01_load_and_save.py
      md5: 103f6fcced6f0846b397bf9e91d30da4
      size: 955
    params:
      params.yaml:
        artifacts.raw_local_data: artifacts/raw_local_data_dir/data.csv
        data_source.data_source: winequality-red.csv
    outs:
    - path: artifacts\raw_local_data_dir/data.csv
      md5: 7c92f1ee593c0fbd2ad8c67ba5c446df
      size: 93599
  split_data:
    cmd: python -m src.stage_02_split_data --config=params.yaml
    deps:
    - path: artifacts/raw_local_data_dir/data.csv
      md5: 7c92f1ee593c0fbd2ad8c67ba5c446df
      size: 93599
    - path: src/stage_02_split_data.py
      md5: e94117419570a870a5269e64a98a1d1d
      size: 1480
    - path: src/utils/common_utils.py
      md5: 293810a50407c38c6c201dffb5638338
      size: 1194
    params:
      params.yaml:
        artifacts.raw_local_data: artifacts/raw_local_data_dir/data.csv
        artifacts.split_data.processed_data_dir: artifacts/processed_data
        artifacts.split_data.test_path: artifacts/processed_data/test.csv
        artifacts.split_data.train_path: artifacts/processed_data/train.csv
        base.random_state: 42
        base.test_size: 0.33
    outs:
    - path: artifacts/processed_data/test.csv
      md5: 1360e6aaaa461abdd843cca2b5574181
      size: 30990
    - path: artifacts/processed_data/train.csv
      md5: bcec8e1479ac02fa629498d7b70cb463
      size: 62756
  train:
    cmd: python -m src.stage_03_train --config=params.yaml
    deps:
    - path: artifacts/processed_data/train.csv
      md5: bcec8e1479ac02fa629498d7b70cb463
      size: 62756
    - path: src/stage_03_train.py
      md5: 27c8cd094bfed35628820c67a1161fb5
      size: 2779
    - path: src/utils/common_utils.py
      md5: 293810a50407c38c6c201dffb5638338
      size: 1194
    params:
      params.yaml:
        artifacts.split_data.train_path: artifacts/processed_data/train.csv
        base.random_state: 42
        base.target_col: quality
        estimators.ElasticNet.params.alpha: 0.6
        estimators.ElasticNet.params.l1_ratio: 0.8
    outs:
    - path: artifacts/report/params.json
      md5: 68fdeb918d7f86c3e3ddb601218ab541
      size: 44
    - path: artifacts/saved_models/model.joblib
      md5: 57a72fb358c6a07253f7482be7f7acb7
      size: 1316
